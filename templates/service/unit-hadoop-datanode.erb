[Unit]
Description=Apache Hadoop Datanode
Documentation=http://hadoop.apache.org/

[Service]
Type=simple
User=<%= @service_user %>
Group=<%= @service_group %>
SyslogIdentifier=<%= @service_name %>
Environment='HADOOP_PID_DIR=/tmp'
Environment='HADOOP_LOG_DIR=/var/log/hadoop'
Environment='HADOOP_CONF_DIR=<%= @install_directory %>/<%= @hadoop_etc_dir %>'
Environment='JAVA_HOME=<%= @java_home_dir %>'
ExecStart=<%= @install_directory %>/sbin/hadoop-daemon.sh --config $HADOOP_CONF_DIR --script hdfs start datanode
ExecStop=<%= @install_directory %>/sbin/hadoop-daemon.sh --config $HADOOP_CONF_DIR --script hdfs stop datanode
PIDFile=/tmp/hadoop-hdfs-datanode.pid

LimitNOFILE=65536
LimitCORE=infinity

[Install]
WantedBy=multi-user.target